<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Автошкола «Адреналин» — обучение вождению, категория B</title>
  <meta name="description" content="Автошкола «Адреналин». Курс категории B, экспресс-обучение, онлайн-теория, рассрочка, высокие показатели сдачи. Запишитесь сегодня!" />
  <meta name="theme-color" content="#0f172a" />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cpath fill='%23ff4d4f' d='M32 6l10 18 20 3-14 14 4 20-20-10-20 10 4-20L2 27l20-3z'/%3E%3C/svg%3E">

  <!-- Open Graph -->
  <meta property="og:title" content="Автошкола «Адреналин»" />
  <meta property="og:description" content="Категория B, онлайн-теория, рассрочка. Запишитесь на занятия!" />
  <meta property="og:type" content="website" />

  <!-- LocalBusiness JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "DrivingSchool",
    "name": "Автошкола «Адреналин»",
    "image": "",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "ул. Примерная, 7",
      "addressLocality": "Ваш город",
      "postalCode": "000000",
      "addressCountry": "RU"
    },
    "telephone": "+7-900-123-45-67",
    "email": "hello@adrenalin-avto.ru",
    "url": "https://adrenalin-avto.ru/",
    "openingHours": "Mo-Fr 09:00-20:00",
    "priceRange": "₽₽"
  }
  </script>

  <style>
    /* ---------- CSS RESET ---------- */
    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: 100%; }
    body, h1, h2, h3, h4, p, figure, blockquote, ul, ol { margin: 0; }
    img, svg { display: block; max-width: 100%; }
    button { font: inherit; }
    a { color: inherit; text-decoration: none; }

    /* ---------- THEME & TOKENS ---------- */
    :root{
      --bg: #0b1020;
      --bg-elev: #121933;
      --panel: #0f172a;
      --panel-2:#0d1326;
      --text:#e5e7eb;
      --muted:#aab2cf;
      --brand:#ff4d4f;
      --brand-2:#22d3ee;
      --ok:#10b981;
      --warn:#f59e0b;
      --bad:#ef4444;
      --card:#0d1326cc;
      --shadow: 0 10px 30px rgba(0,0,0,.3);
      --radius:16px;
      --nav-h:64px;
      --space: clamp(12px, .9vw + 10px, 20px);
    }
    .light{
      --bg:#f8fafc;
      --bg-elev:#ffffff;
      --panel:#ffffff;
      --panel-2:#f1f5f9;
      --text:#0f172a;
      --muted:#475569;
      --card:#ffffffee;
      --shadow: 0 10px 30px rgba(2,6,23,.08);
    }

    body{
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans", "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background:
        radial-gradient(1000px 600px at 10% -10%, #1f2a52 0%, transparent 70%),
        radial-gradient(800px 500px at 90% 0%, #1a2a52 0%, transparent 70%),
        var(--bg);
      color:var(--text);
      line-height:1.5;
      scroll-behavior:smooth;
    }
    body.no-scroll{ overflow:hidden; }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{ animation-duration:.001ms !important; animation-iteration-count:1 !important; transition-duration:.001ms !important; scroll-behavior:auto !important; }
    }

    /* ---------- GLOBAL UTILS ---------- */
    .container{ width:min(1200px, 92vw); margin-inline:auto; }
    .grid{ display:grid; gap: var(--space); }
    .card{
      background:var(--card);
      border:1px solid #1f2a44;
      border-radius:var(--radius);
      padding: calc(var(--space) * .9);
      backdrop-filter: blur(6px);
      box-shadow: var(--shadow);
    }
    .section{ padding-block: calc(var(--space) * 3.6); scroll-margin-top: calc(var(--nav-h) + 16px); }
    .section-header{ margin-bottom: calc(var(--space) * 1.4); }
    .section-header h2{ font-size: clamp(1.6rem, 1.2rem + 2vw, 2.2rem); }
    .muted{ color:var(--muted); }
    .title{ font-size: clamp(2rem, 1.2rem + 3vw, 3rem); font-weight: 900; line-height:1.05; }
    body, .card, .nav, .nav-main a{ transition: background-color .3s, color .3s, border-color .3s; }
    .btn{
      display:inline-flex; align-items:center; gap:.6rem;
      padding:.9rem 1.2rem; border-radius:999px; border:1px solid transparent;
      background: linear-gradient(135deg, var(--brand), #fb7185);
      color:#fff; font-weight:700; letter-spacing:.2px; cursor:pointer;
      box-shadow: var(--shadow);
      transition: background-color .3s, color .3s, border-color .3s, transform .15s ease, filter .2s ease, box-shadow .2s ease;
      will-change: transform;
      white-space: nowrap; /* чтобы кнопки не ломались */
    }
    .btn:hover{ transform: translateY(-1px); filter:brightness(1.05); }
    .btn.secondary{ background: linear-gradient(135deg, #1e293b, #0f172a); color:#e2e8f0; border:1px solid #273248; }
    .btn.ghost{ background: transparent; color:var(--text); border-color:#334155; }
    .btn[disabled]{ opacity:.6; cursor:not-allowed; }
    .tag{ display:inline-block; padding:.3rem .7rem; border-radius:999px; font-size:.85rem; background:#111827; color:#e5e7eb; border:1px solid #223; }

    /* focus-visible */
    :focus-visible{ outline: 3px solid #60a5fa; outline-offset: 2px; border-radius: 10px; }

    /* ---------- NAVBAR (исправлено) ---------- */
    .nav{
      position: sticky; top:0; z-index:100; height:var(--nav-h);
      backdrop-filter: blur(8px);
      background: linear-gradient(180deg, rgba(13,19,38,.85), rgba(13,19,38,.65));
      border-bottom:1px solid #1f2a44;
      padding-top: env(safe-area-inset-top);
      padding-right: env(safe-area-inset-right);
      padding-bottom: env(safe-area-inset-bottom);
      padding-left: env(safe-area-inset-left);
    }
    /* grid: logo | nav | cta */
    .nav .wrap{
      display:grid;
      grid-template-columns:auto 1fr auto;
      align-items:center;
      padding-block:.6rem;
      gap:.8rem;
    }
    .brand{ display:flex; align-items:center; gap:.6rem; font-weight:900; letter-spacing:.3px; }
    .brand svg{ width:28px; height:28px; }

    .nav-links{
      display:flex; align-items:center; gap:.6rem; flex:1;
    }
    .nav-main{ display:flex; gap:.3rem; flex:1; justify-content:center; }
    .nav-main a{
      padding:.45rem .7rem; border-radius:999px; border:1px solid transparent;
      font-weight:600; color:#e2e8f0; white-space:nowrap;
    }
    .nav-main a:hover{ background:#111a33; border-color:#223355; }
    .nav-main a.active{ background:#142047; border-color:#2a3a66; }
    .nav-extra{ display:flex; gap:.6rem; align-items:center; margin-left:auto; }
    .nav-extra > *{ flex-shrink:0; white-space:nowrap; }
    .nav-extra a .phone-short{ display:none; }

    .nav-cta{ display:flex; gap:.6rem; align-items:center; }
    .menu-btn{ display:none; }

    /* раньше уводим в бургер-меню, чтобы никогда не ломалось */
    @media (max-width: 1200px){
      .menu-btn{ display:inline-flex; }
      .nav-links{
        position: fixed; inset: var(--nav-h) 0 0 0; display:none;
        background: var(--panel); border-bottom:1px solid #1f2a44;
        padding:1rem; gap:.4rem; flex-direction:column; align-items:flex-start;
        overflow-y:auto;
        padding-top: calc(1rem + env(safe-area-inset-top));
        padding-right: calc(1rem + env(safe-area-inset-right));
        padding-bottom: calc(1rem + env(safe-area-inset-bottom));
        padding-left: calc(1rem + env(safe-area-inset-left));
      }
      .nav-links.open{ display:flex; }
      .nav-main{ width:100%; flex-direction:column; }
      .nav-main a{ padding:.8rem 1rem; width:100%; }
      .nav-extra{ width:100%; flex-direction:column; margin-top:.4rem; }
      .nav-extra > *{ width:100%; }
    }

    @media (max-width: 640px){
      .nav-extra a .phone-text{ display:none; }
      .nav-extra a .phone-short{ display:inline; }
      .btn,
      .nav-main a,
      .nav-extra > * { white-space: normal; }
      .btn{ font-size:.95rem; padding:.7rem .9rem; }
      .nav-main a{ font-size:.95rem; padding:.6rem .8rem; }
    }

    /* ---------- HERO ---------- */
    .hero{
      position:relative; padding: 80px 0 60px;
      background:
        radial-gradient(1200px 500px at 80% 10%, #102a45cc, transparent 70%),
        conic-gradient(from 210deg at 70% 50%, #0f172a, #12193b, #0b1226, #0f172a);
      overflow:hidden;
      border-bottom:1px solid #1f2a44;
    }
    .hero::after{
      content:""; position:absolute; inset:-10% -10% auto auto; width:60vmax; height:60vmax;
      background: radial-gradient(closest-side, rgba(34,211,238,.25), transparent);
      filter: blur(30px); transform: translate(10%, -35%); animation: float 12s ease-in-out infinite alternate;
      pointer-events:none;
    }
    @keyframes float{ to{ transform: translate(-5%, -45%);} }
    .hero .wrap{ display:grid; gap: var(--space); align-items:center; grid-template-columns: 1.1fr .9fr; }
    @media (max-width: 980px){ .hero .wrap{ grid-template-columns:1fr; } }

    .subtitle{ color:var(--muted); max-width: 60ch; }
    .hero-cta{ display:flex; gap:.8rem; flex-wrap:wrap; margin-top:.6rem; }
    .stats{ display:grid; grid-template-columns: repeat(auto-fit, minmax(90px, 1fr)); gap:.8rem; margin-top:1rem; }
    .stat{ background:#0f172a; border:1px solid #213255; padding:.9rem; border-radius:var(--radius); text-align:center; }
    .stat b{ font-size:1.4rem; display:block; }

    .hero-art{
      position:relative; aspect-ratio: 4/3; border-radius: 22px; overflow:hidden; border:1px solid #273455;
      background: radial-gradient(120% 80% at 100% 0%, rgba(255,77,79,.25), transparent), linear-gradient(180deg, #0e152c, #0b1120);
      box-shadow: var(--shadow);
    }
    .road{
      position:absolute; inset:auto 0 0 0; height: 42%;
      background:
        linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.5) 100%),
        repeating-linear-gradient(90deg, #121826 0 8px, #0d1426 8px 16px),
        repeating-linear-gradient(0deg, transparent 0 18px, #fef08a 18px 22px, transparent 22px 40px);
      clip-path: polygon(0 100%, 30% 0, 70% 0, 100% 100%);
      background-size: auto, auto, 100% 40px;
      animation: roadMove 1.6s linear infinite;
    }
    @keyframes roadMove{ to{ background-position: 0 0, 0 0, 0 40px; } }

    .car{ position:absolute; bottom: 18%; left:-20%; width: 42%; filter: drop-shadow(0 8px 20px rgba(0,0,0,.5)); animation: drive 9s cubic-bezier(.2,.8,.2,1) infinite; }
    @keyframes drive{ 0%{ transform: translateX(0) } 55%{ transform: translateX(170%) } 100%{ transform: translateX(170%) } }
    .glow{ position:absolute; width:120px; height:120px; border-radius:50%; background: radial-gradient(circle, rgba(255,77,79,.7), rgba(255,77,79,0)); filter: blur(10px); right:8%; bottom: 18%; animation: pulse 3s ease-in-out infinite; }
    @keyframes pulse{ 50%{ transform: scale(1.05); opacity:.8 } }

    /* ---------- FEATURES / COURSES / PRICING / etc ---------- */
    .features{ grid-template-columns: repeat(4,1fr); }
    @media (max-width: 980px){ .features{ grid-template-columns: repeat(2,1fr); } }
    @media (max-width: 640px){ .features{ grid-template-columns: 1fr; } }
    .feature{ display:grid; grid-template-columns: 48px 1fr; gap:.8rem; align-items:start; }
    .feature .ico{ width:48px; height:48px; border-radius:12px; display:grid; place-items:center; background:#0f1a33; border:1px solid #243155; }

    .courses{ grid-template-columns: repeat(3,1fr); }
    @media (max-width: 980px){ .courses{ grid-template-columns: 1fr; } }
    .course .title{ font-size:1.3rem; }
    .badge{ background:#122142; border:1px solid #22345c; padding:.25rem .6rem; border-radius:999px; font-size:.8rem; color:#d6e2ff; }

    /* ---------- SCHEDULE ---------- */
    .filterbar{ display:flex; gap:.5rem; flex-wrap:wrap; align-items:center; }
    .select, .input{ background:var(--panel); border:1px solid #263155; color:var(--text); border-radius:10px; padding:.6rem .7rem; outline:none; }
    .input.error, .select.error { border-color: var(--bad); }
    table{ width:100%; border-collapse: collapse; overflow:hidden; border-radius: var(--radius); }
    th, td{ padding:.8rem .9rem; border-bottom:1px solid #1f2a44; text-align:left; }
    thead{ background:#0e162d; }
    tbody tr:hover{ background:#0e152c; }

    /* ---------- PRICING ---------- */
    .pricing{ grid-template-columns: repeat(3,1fr); }
    @media (max-width: 980px){ .pricing{ grid-template-columns: 1fr; } }
    .price{ text-align:center; }
    .price .num{ font-size:2rem; font-weight:900; }
    .toggle{ display:inline-flex; align-items:center; gap:.5rem; padding:.3rem; border:1px solid #223355; border-radius:999px; background:#0e162d; }
    .toggle button{ padding:.4rem .8rem; border-radius:999px; border:none; background:transparent; color:var(--muted); cursor:pointer; }
    .toggle button.active{ background:#142047; color:#e2e8f0; }

    /* ---------- INSTRUCTORS ---------- */
    .instructors{ grid-template-columns: repeat(3,1fr); }
    @media (max-width: 980px){ .instructors{ grid-template-columns:1fr; } }
    .person{ display:grid; grid-template-columns: 96px 1fr; gap:.8rem; align-items:center; }
    .avatar{ width:96px; height:96px; border-radius:50%; background: linear-gradient(145deg,#0b1226,#15224a); border:1px solid #22345c; display:grid; place-items:center; font-weight:900; }

    /* ---------- FLEET ---------- */
    .fleet-wrap{ }
    .fleet{ display:grid; gap:1rem; grid-template-columns: repeat(3,1fr); }
    @media (max-width: 980px){ .fleet{ grid-template-columns: repeat(2,1fr); } }
    @media (max-width: 640px){ .fleet{ grid-template-columns:1fr; } }
    .fleet .car-card{ }

    /* ---------- REVIEWS ---------- */
    .reviews{ position:relative; overflow:hidden; }
    .track{ display:flex; gap:1rem; transition: transform .5s ease; }
    .review{ min-width:100%; }
    .dots{ display:flex; justify-content:center; gap:.4rem; margin-top:.8rem; }
    .dot{ width:8px; height:8px; border-radius:50%; background:#334155; }
    .dot.active{ background: var(--brand); }

    /* ---------- FAQ ---------- */
    .faq-item{ border:1px solid #243155; border-radius:12px; overflow:hidden; background:var(--panel); }
    .faq-q{ display:flex; justify-content:space-between; align-items:center; padding:.9rem 1rem; cursor:pointer; }
    .faq-a{ padding:0 1rem; height:0; overflow:hidden; transition: height .3s ease; }
    .faq-item.open .faq-a{ padding: .6rem 1rem 1rem; }

    /* ---------- CONTACTS ---------- */
    .contacts{ display:grid; grid-template-columns: 1.1fr .9fr; gap: var(--space); }
    @media (max-width: 980px){ .contacts{ grid-template-columns:1fr; } }
    .map{ background: linear-gradient(180deg,#0e152c,#0b1120); border:1px solid #1f2a44; border-radius: var(--radius); min-height:320px; display:grid; place-items:center; position:relative; }
    .map .pin{ position:absolute; width:14px; height:14px; background:var(--brand); border-radius:50%; box-shadow: 0 0 0 6px rgba(255,77,79,.15); animation: ping 1.6s infinite; }
    @keyframes ping{ 0%{ transform: scale(.9); opacity:.8 } 70%{ transform: scale(1.4); opacity:.1 } 100%{ transform: scale(.9); opacity:.8 } }

    /* ---------- FOOTER ---------- */
    footer{ padding: 40px 0; border-top:1px solid #1f2a44; background: linear-gradient(180deg, rgba(15,23,42,.6), rgba(11,17,32,.9)); }

    /* ---------- MODALS / TOAST ---------- */
    .modal-backdrop{ position:fixed; inset:0; background:rgba(3,7,18,.6); display:none; align-items:center; justify-content:center; z-index:120; padding-top: env(safe-area-inset-top); padding-right: env(safe-area-inset-right); padding-bottom: env(safe-area-inset-bottom); padding-left: env(safe-area-inset-left); }
    .modal{ width:min(560px, 92vw); background:var(--panel); border:1px solid #22345c; border-radius:16px; padding:1rem; box-shadow: var(--shadow); }
    .modal-head{ display:flex; justify-content:space-between; align-items:center; }
    .x{ background:transparent; border:none; color:var(--muted); font-size:1.4rem; cursor:pointer; }
    .toast{ position: fixed; right:16px; bottom:16px; background:#102039; color:#e5e7eb; border:1px solid #224; padding:.8rem 1rem; border-radius:12px; box-shadow: var(--shadow); display:none; z-index:200; padding-top: env(safe-area-inset-top); padding-right: env(safe-area-inset-right); padding-bottom: env(safe-area-inset-bottom); padding-left: env(safe-area-inset-left); }

    /* ---------- REVEAL on scroll ---------- */
    .reveal{ opacity:0; transform: translateY(16px); transition: opacity .6s ease, transform .6s ease; }
    .reveal.show{ opacity:1; transform: translateY(0); }
    [data-reveal-delay="1"]{ transition-delay: .1s; }
    [data-reveal-delay="2"]{ transition-delay: .2s; }
    [data-reveal-delay="3"]{ transition-delay: .3s; }

    /* ---------- BACK TO TOP ---------- */
    .to-top{ position: fixed; right:16px; bottom: 92px; display:none; padding-top: env(safe-area-inset-top); padding-right: env(safe-area-inset-right); padding-bottom: env(safe-area-inset-bottom); padding-left: env(safe-area-inset-left); }

    /* ---------- COOKIE BAR ---------- */
    .cookie{ position: fixed; inset: auto 16px 16px 16px; background: var(--panel); border:1px solid #22345c; border-radius:12px; padding:.9rem; display:none; z-index:110; padding-top: env(safe-area-inset-top); padding-right: env(safe-area-inset-right); padding-bottom: env(safe-area-inset-bottom); padding-left: env(safe-area-inset-left); }

    /* ---------- SCROLL PROGRESS ---------- */
    .scroll-progress{ position: fixed; inset:0 auto auto 0; height:4px; width:0%; z-index:140; background: linear-gradient(90deg, var(--brand), #fb7185, var(--brand-2)); box-shadow: 0 0 10px rgba(255,77,79,.6); padding-top: env(safe-area-inset-top); padding-right: env(safe-area-inset-right); padding-bottom: env(safe-area-inset-bottom); padding-left: env(safe-area-inset-left); }

    /* ---------- FLOATING CTA (mobile) ---------- */
    .floating-cta{
      position: fixed; left:50%; transform: translateX(-50%);
      bottom: 16px; z-index: 130; display: none;
      padding-top: env(safe-area-inset-top);
      padding-right: env(safe-area-inset-right);
      padding-bottom: env(safe-area-inset-bottom);
      padding-left: env(safe-area-inset-left);
    }
    @media (max-width: 980px){
      body{ padding-bottom:120px; }
      .floating-cta{ display: inline-flex; }
    }

    /* ---------- 3D tilt (hover) ---------- */
    .tilt{ transform-style: preserve-3d; transition: transform .15s ease, box-shadow .2s ease; will-change: transform; }
    .tilt:hover{ box-shadow: 0 20px 40px rgba(0,0,0,.35); }
    
    /* ---------- RESPONSIVE SCHEDULE TABLE ---------- */
    @media (max-width: 600px){
      .schedule-wrap{ overflow:visible !important; }
      .schedule-table{ width:100%; }
      .schedule-table thead{ display:none; }
      .schedule-table tr{ display:block; margin-bottom:var(--space); border:1px solid #1f2a44; border-radius:var(--radius); padding:var(--space); background:var(--panel-2); }
      .schedule-table td{ display:flex; justify-content:space-between; padding:.3rem 0; }
      .schedule-table td::before{ content: attr(data-label); font-weight:600; margin-right:1rem; }
      .schedule-table td:last-child{ justify-content:center; }
      .schedule-table td:last-child::before{ content:''; margin:0; }
    }

    /* ---------- flex gap fallback ---------- */
    @supports not (gap: 1rem){
      .grid{ margin:-calc(var(--space)/2); }
      .grid > *{ margin: calc(var(--space)/2); }

      .brand > *:not(:last-child){ margin-right:.6rem; }

      .nav-links > *:not(:last-child){ margin-right:.3rem; }
      .nav-cta > *{ margin-right:.6rem; margin-bottom:.6rem; }
      .nav-cta > *:last-child{ margin-right:0; }
      .hero-cta > *{ margin-right:.8rem; margin-bottom:.8rem; }
      .hero-cta > *:last-child{ margin-right:0; }
      .filterbar > *{ margin-right:.5rem; margin-bottom:.5rem; }
      .filterbar > *:last-child{ margin-right:0; }
      .track > *:not(:last-child){ margin-right:1rem; }
      .dots > *:not(:last-child){ margin-right:.4rem; }

      @media (max-width: 1200px){
        .nav-links > *{ margin-right:0; margin-bottom:.4rem; }
        .nav-links > *:last-child{ margin-bottom:0; }
      }

      @media (max-width: 640px){
        .nav-cta > *{ margin-right:.4rem; margin-bottom:.4rem; }
      }
    }

    /* ---------- noscript ---------- */
    noscript{ display:block; background:#7f1d1d; color:#fff; padding:.8rem; text-align:center; }
  </style>
</head>
<body>
  <noscript>Для корректной работы сайта включите JavaScript.</noscript>

  <!-- Scroll progress -->
  <div class="scroll-progress" id="scrollProgress" aria-hidden="true"></div>

  <!-- NAVBAR -->
  <nav class="nav" aria-label="Шапка сайта">
    <div class="container wrap">
      <a href="#home" class="brand" aria-label="На главную">
        <svg viewBox="0 0 64 64" aria-hidden="true"><path fill="currentColor" d="M32 6l10 18 20 3-14 14 4 20-20-10-20 10 4-20L2 27l20-3z"/></svg>
        <span>Адреналин</span>
        <span class="tag">автошкола</span>
      </a>

      <div class="nav-links" id="navLinks" role="navigation" aria-label="Основное меню">
        <div class="nav-main">
          <a href="#about">О нас</a>
          <a href="#courses">Курсы</a>
          <a href="#schedule">Расписание</a>
          <a href="#pricing">Цены</a>
          <a href="#instructors">Инструкторы</a>
          <a href="#fleet">Автопарк</a>
          <a href="#reviews">Отзывы</a>
          <a href="#faq">FAQ</a>
          <a href="#contacts">Контакты</a>
        </div>
        <div class="nav-extra">
          <button class="btn" id="themeToggle" aria-label="Переключить тему" aria-pressed="false">Тема</button>
          <a class="btn" href="tel:+79001234567" aria-label="Позвонить в автошколу" title="+7 (900) 123-45-67">📞 <span class="phone-text">+7 (900) 123-45-67</span><span class="phone-short">45-67</span></a>
          <button class="btn" data-open-modal="enroll">Записаться</button>
        </div>
      </div>

      <div class="nav-cta">
        <button class="btn ghost menu-btn" id="menuBtn" aria-label="Меню" aria-expanded="false" aria-controls="navLinks">☰</button>
      </div>
    </div>
  </nav>

  <noscript>
    <div class="nav-links" role="navigation" aria-label="Основное меню без JavaScript">
      <a href="#about">О нас</a>
      <a href="#courses">Курсы</a>
      <a href="#schedule">Расписание</a>
      <a href="#pricing">Цены</a>
      <a href="#instructors">Инструкторы</a>
      <a href="#fleet">Автопарк</a>
      <a href="#reviews">Отзывы</a>
      <a href="#faq">FAQ</a>
      <a href="#contacts">Контакты</a>
    </div>
  </noscript>

  <!-- HERO -->
  <header class="hero" id="home">
    <div class="container wrap">
      <div>
        <h1 class="title reveal" data-reveal-delay="1">Автошкола «Адреналин» — уверенное вождение с первого занятия</h1>
        <p class="subtitle reveal" data-reveal-delay="2">Категория B, онлайн-теория, реальные городские маршруты. Рассрочка без переплат. Поддержка до сдачи экзамена.</p>
        <div class="hero-cta reveal" data-reveal-delay="3">
          <button class="btn" data-open-modal="enroll">Записаться сейчас</button>
          <button class="btn ghost" id="downloadBrochure">Скачать программу</button>
          <a class="btn secondary" href="#pricing">Смотреть цены</a>
        </div>
        <div class="stats reveal" data-reveal-delay="3">
          <div class="stat tilt"><b data-count="2500">0</b><span class="muted">выпускников</span></div>
          <div class="stat tilt"><b data-count="92" data-suffix="%">0</b><span class="muted">сдают с 1-го раза</span></div>
          <div class="stat tilt"><b data-count="15">0</b><span class="muted">лет опыта</span></div>
        </div>
      </div>

      <div class="hero-art reveal tilt" aria-hidden="true">
        <!-- Машина со «вращающимися колёсами» -->
        <svg class="car" viewBox="0 0 200 90">
          <defs>
            <g id="wheel">
              <circle cx="0" cy="0" r="10" fill="#0f172a"></circle>
              <circle cx="0" cy="0" r="6" fill="#94a3b8"></circle>
              <rect x="-1" y="-7" width="2" height="14" fill="#64748b"></rect>
              <rect x="-7" y="-1" width="14" height="2" fill="#64748b"></rect>
            </g>
          </defs>
          <rect x="20" y="40" width="160" height="30" rx="6" fill="#0ea5e9"></rect>
          <rect x="50" y="25" width="100" height="25" rx="8" fill="#38bdf8"></rect>
          <g transform="translate(60,73)" style="transform-origin: 60px 73px; animation: spin 1s linear infinite;">
            <use href="#wheel"></use>
          </g>
          <g transform="translate(140,73)" style="transform-origin: 140px 73px; animation: spin 1s linear infinite;">
            <use href="#wheel"></use>
          </g>
          <rect x="28" y="50" width="18" height="6" rx="3" fill="#fde68a"></rect>
          <rect x="154" y="50" width="18" height="6" rx="3" fill="#22d3ee"></rect>
        </svg>
        <style>@keyframes spin{ to{ transform: rotate(360deg); } }</style>
        <div class="glow"></div>
        <div class="road"></div>
      </div>
    </div>
  </header>

  <!-- FEATURES -->
  <section class="section" id="about">
    <div class="container">
      <div class="section-header">
        <h2 class="reveal">Почему выбирают «Адреналин»</h2>
        <p class="muted reveal">Сильные инструкторы, понятная теория, честная цена.</p>
      </div>
      <div class="grid features">
        <div class="card feature reveal tilt" data-reveal-delay="1">
          <div class="ico">🏁</div>
          <div><h3>Экспресс-курс</h3><p class="muted">Сокращённые программы без потери качества — экономим ваше время.</p></div>
        </div>
        <div class="card feature reveal tilt" data-reveal-delay="2">
          <div class="ico">🧑‍🏫</div>
          <div><h3>Онлайн-теория</h3><p class="muted">Учитесь из дома в удобное время, платформа доступна 24/7.</p></div>
        </div>
        <div class="card feature reveal tilt" data-reveal-delay="3">
          <div class="ico">🚗</div>
          <div><h3>Современный автопарк</h3><p class="muted">Механика и автомат, кондиционер, парктроники, камеры.</p></div>
        </div>
        <div class="card feature reveal tilt" data-reveal-delay="3">
          <div class="ico">🛡️</div>
          <div><h3>Рассрочка 0-0-12</h3><p class="muted">Без переплат. Можно оплатить частями помесячно.</p></div>
        </div>
      </div>
    </div>
  </section>

  <!-- ABOUT TEXT -->
  <section class="section">
    <div class="container grid" style="grid-template-columns: 1.1fr .9fr;">
      <div class="reveal">
        <h2>О школе</h2>
        <p class="muted">Мы — автошкола полного цикла. Теория онлайн или в классе, практика на городских маршрутах, пробные экзамены, сопровождение в ГИБДД. Мы не бросаем учеников после оплаты — доводим до прав.</p>
        <ul class="muted" style="margin-top:.6rem; display:grid; gap:.3rem;">
          <li>• Лицензия на образовательную деятельность</li>
          <li>• Индивидуальные занятия</li>
          <li>• Настоящие отзывы, открытая статистика</li>
        </ul>
        <div style="margin-top: .8rem; display:flex; gap:.6rem; flex-wrap:wrap;">
          <span class="badge">Категория B</span>
          <span class="badge">Автомат / Механика</span>
          <span class="badge">Вечерние группы</span>
        </div>
      </div>
      <div class="card reveal tilt">
        <h3>Ближайший старт групп</h3>
        <p class="muted">Теория (онлайн): <b>понедельник</b>, <b>19:00</b> • Практика по записи.</p>
        <div style="display:flex; gap:.6rem; margin-top:.8rem; flex-wrap:wrap;">
          <button class="btn" data-open-modal="enroll">Записаться</button>
          <a class="btn secondary" href="#schedule">Смотреть расписание</a>
        </div>
      </div>
    </div>
  </section>

  <!-- COURSES -->
  <section class="section" id="courses">
    <div class="container">
      <div class="section-header">
        <h2 class="reveal">Курсы</h2>
        <p class="muted reveal">Выберите программу под свои цели.</p>
      </div>
      <div class="grid courses">
        <article class="card course reveal tilt">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <h3 class="title">Категория B — базовый</h3>
            <span class="tag">популярно</span>
          </div>
          <p class="muted">Онлайн-теория + 20 ч. практики по городу. Подготовка к экзамену.</p>
          <ul class="muted" style="margin:.5rem 0; display:grid; gap:.25rem;">
            <li>• Теория 2 мес. (онлайн/офлайн)</li>
            <li>• 20 часов практики</li>
            <li>• Пробный экзамен</li>
          </ul>
          <div style="display:flex; gap:.6rem; align-items:center; justify-content:space-between;">
            <div><b style="font-size:1.4rem;">от 29 900 ₽</b><div class="muted" style="font-size:.9rem;">или 2 900 ₽ / мес</div></div>
            <div>
              <button class="btn" data-open-modal="enroll" data-course="Категория B — базовый">Записаться</button>
              <button class="btn ghost" data-open-modal="details" data-course="Категория B — базовый">Подробнее</button>
            </div>
          </div>
        </article>

        <article class="card course reveal tilt">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <h3 class="title">Экспресс-курс</h3>
            <span class="tag">быстро</span>
          </div>
          <p class="muted">Ускоренная теория, плотные практики. Для тех, кто спешит.</p>
          <ul class="muted" style="margin:.5rem 0; display:grid; gap:.25rem;">
            <li>• Теория 4–5 недель</li>
            <li>• 22 часа практики</li>
            <li>• Утренние/вечерние группы</li>
          </ul>
          <div style="display:flex; gap:.6rem; align-items:center; justify-content:space-between;">
            <div><b style="font-size:1.4rem;">от 34 900 ₽</b><div class="muted" style="font-size:.9rem;">или 3 400 ₽ / мес</div></div>
            <div>
              <button class="btn" data-open-modal="enroll" data-course="Экспресс-курс">Записаться</button>
              <button class="btn ghost" data-open-modal="details" data-course="Экспресс-курс">Подробнее</button>
            </div>
          </div>
        </article>

        <article class="card course reveal tilt">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <h3 class="title">Индивидуальные занятия</h3>
            <span class="tag">индивидуально</span>
          </div>
          <p class="muted">Под конкретные задачи: парковка, трасса, маршрут ГИБДД.</p>
          <ul class="muted" style="margin:.5rem 0; display:grid; gap:.25rem;">
            <li>• Механика/автомат</li>
            <li>• Подача к дому/офису</li>
            <li>• Маршруты экзамена</li>
          </ul>
          <div style="display:flex; gap:.6rem; align-items:center; justify-content:space-between;">
            <div><b style="font-size:1.4rem;">от 1 500 ₽/ч</b><div class="muted" style="font-size:.9rem;">пакеты — выгоднее</div></div>
            <div>
              <button class="btn" data-open-modal="enroll" data-course="Индивидуальные занятия">Записаться</button>
              <button class="btn ghost" data-open-modal="details" data-course="Индивидуальные занятия">Подробнее</button>
            </div>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- SCHEDULE -->
  <section class="section" id="schedule">
    <div class="container">
      <div class="section-header">
        <h2 class="reveal">Расписание</h2>
        <p class="muted reveal">Выберите филиал и формат — система покажет ближайшие занятия.</p>
      </div>

      <div class="card reveal tilt">
        <div class="filterbar">
          <label aria-label="Филиал">
            <select class="select" id="branch">
              <option value="all">Все филиалы</option>
              <option value="центр">Центр</option>
              <option value="север">Север</option>
              <option value="юг">Юг</option>
            </select>
          </label>
          <label aria-label="Формат">
            <select class="select" id="format">
              <option value="all">Любой формат</option>
              <option value="онлайн">Онлайн теория</option>
              <option value="класс">Теория в классе</option>
              <option value="практика">Практика</option>
            </select>
          </label>
          <input class="input" id="searchSchedule" placeholder="Поиск по названию курса..." aria-label="Поиск в расписании" />
          <button class="btn" id="downloadICS">Скачать .ics</button>
        </div>

        <div class="schedule-wrap" style="overflow-x:auto; margin-top:.6rem;">
          <table aria-label="Таблица расписания занятий" class="schedule-table">
            <thead><tr><th>Дата</th><th>Время</th><th>Филиал</th><th>Формат</th><th>Курс</th><th></th></tr></thead>
            <tbody id="scheduleBody"></tbody>
          </table>
        </div>
      </div>
    </div>
  </section>

  <!-- PRICING -->
  <section class="section" id="pricing">
    <div class="container">
      <div class="section-header">
        <h2 class="reveal">Цены</h2>
        <p class="muted reveal">Честно, прозрачно, без скрытых платежей. Рассрочка доступна.</p>
      </div>

      <div style="display:flex; justify-content:center; margin-bottom:.6rem;" class="reveal">
        <div class="toggle" role="tablist" aria-label="Переключение вариантов оплаты">
          <button class="active" data-bill="once" aria-pressed="true">Единовременно</button>
          <button data-bill="monthly" aria-pressed="false">В рассрочку</button>
        </div>
      </div>

      <div class="grid pricing">
        <div class="card price reveal tilt">
          <h3>Базовый B</h3>
          <div class="num" data-price data-once="29900" data-monthly="2900">29 900 ₽</div>
          <p class="muted">Онлайн/офлайн теория • 20 ч. практики • Пробный экзамен</p>
          <div style="margin-top:.6rem; display:flex; gap:.6rem; justify-content:center;">
            <button class="btn" data-open-modal="enroll" data-course="Базовый B">Записаться</button>
            <button class="btn ghost" id="downloadPrice">Скачать прайс</button>
          </div>
        </div>
        <div class="card price reveal tilt">
          <h3>Экспресс</h3>
          <div class="num" data-price data-once="34900" data-monthly="3400">34 900 ₽</div>
          <p class="muted">Ускоренная программа • 22 ч. практики • Городские маршруты</p>
          <div style="margin-top:.6rem; display:flex; gap:.6rem; justify-content:center;">
            <button class="btn" data-open-modal="enroll" data-course="Экспресс">Записаться</button>
            <button class="btn ghost" id="downloadContract">Договор (черновик)</button>
          </div>
        </div>
        <div class="card price reveal tilt">
          <h3>Индивидуально</h3>
          <div class="num" data-price data-once="1500" data-monthly="1500">1 500 ₽/ч</div>
          <p class="muted">Парковка, трасса, экзамен • Автомат/механика • Гибкий график</p>
          <div style="margin-top:.6rem; display:flex; gap:.6rem; justify-content:center;">
            <button class="btn" data-open-modal="enroll" data-course="Индивидуальные занятия">Записаться</button>
            <a class="btn secondary" href="#faq">Вопросы</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- INSTRUCTORS -->
  <section class="section" id="instructors">
    <div class="container">
      <div class="section-header">
        <h2 class="reveal">Инструкторы</h2>
        <p class="muted reveal">Опытные профи — подберём под ваш темперамент.</p>
      </div>

      <div class="grid instructors">
        <div class="card person reveal tilt">
          <div class="avatar" aria-hidden="true">АМ</div>
          <div>
            <h3>Андрей Миронов</h3>
            <div class="muted">14 лет стажа • МКПП/АКПП</div>
            <div aria-label="Рейтинг">⭐️⭐️⭐️⭐️⭐️</div>
            <div style="margin-top:.5rem; display:flex; gap:.5rem;">
              <button class="btn" data-open-modal="enroll" data-instructor="Андрей Миронов">Записаться</button>
              <button class="btn ghost" data-open-modal="call" data-instructor="Андрей Миронов">Перезвоните</button>
            </div>
          </div>
        </div>

        <div class="card person reveal tilt">
          <div class="avatar" aria-hidden="true">ЕК</div>
          <div>
            <h3>Елена Котова</h3>
            <div class="muted">9 лет стажа • АКПП</div>
            <div aria-label="Рейтинг">⭐️⭐️⭐️⭐️⭐️</div>
            <div style="margin-top:.5rem; display:flex; gap:.5rem;">
              <button class="btn" data-open-modal="enroll" data-instructor="Елена Котова">Записаться</button>
              <button class="btn ghost" data-open-modal="call" data-instructor="Елена Котова">Перезвоните</button>
            </div>
          </div>
        </div>

        <div class="card person reveal tilt">
          <div class="avatar" aria-hidden="true">РС</div>
          <div>
            <h3>Роман Сергеев</h3>
            <div class="muted">12 лет стажа • МКПП</div>
            <div aria-label="Рейтинг">⭐️⭐️⭐️⭐️</div>
            <div style="margin-top:.5rem; display:flex; gap:.5rem;">
              <button class="btn" data-open-modal="enroll" data-instructor="Роман Сергеев">Записаться</button>
              <button class="btn ghost" data-open-modal="call" data-instructor="Роман Сергеев">Перезвоните</button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- FLEET -->
  <section class="section" id="fleet">
    <div class="container">
      <div class="section-header">
        <h2 class="reveal">Автопарк</h2>
        <p class="muted reveal">Комфортные автомобили с кондиционером и камерами.</p>
      </div>

      <div class="fleet-wrap">
        <div class="fleet" id="fleetTrack">
          <div class="card car-card reveal tilt"><h3>Kia Rio (АКПП)</h3><p class="muted">Парктроники, камера</p></div>
          <div class="card car-card reveal tilt"><h3>Hyundai Solaris (МКПП)</h3><p class="muted">Отличная управляемость</p></div>
          <div class="card car-card reveal tilt"><h3>Volkswagen Polo (АКПП)</h3><p class="muted">Комфортный салон</p></div>
          <div class="card car-card reveal tilt"><h3>Skoda Rapid (МКПП)</h3><p class="muted">Экзаменационные маршруты</p></div>
          <div class="card car-card reveal tilt"><h3>Renault Logan (МКПП)</h3><p class="muted">Надёжная классика</p></div>
        </div>
      </div>
    </div>
  </section>

  <!-- REVIEWS -->
  <section class="section" id="reviews">
    <div class="container">
      <div class="section-header">
        <h2 class="reveal">Отзывы выпускников</h2>
        <p class="muted reveal">Нас рекомендуют друзьям. Спасибо за доверие!</p>
      </div>

      <div class="card reviews reveal tilt">
        <div class="track" id="reviewTrack" style="will-change: transform;">
          <article class="review"><h3>Анна</h3><p class="muted">Отличная автошкола! Теория онлайн — удобно, инструктор спокойно и доходчиво объясняет. Сдала с первого раза 🙌</p></article>
        </div>
        <div class="dots" id="reviewDots" aria-label="Навигация по отзывам"></div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section class="section" id="faq">
    <div class="container">
      <div class="section-header">
        <h2 class="reveal">Частые вопросы</h2>
      </div>
      <div class="grid" style="grid-template-columns: 1fr;">
        <div class="faq-item reveal tilt">
          <div class="faq-q"><b>Можно ли учиться полностью онлайн?</b><button class="x" aria-label="Открыть">+</button></div>
          <div class="faq-a"><p class="muted">Теория — да. Практика обязательно очно, в вашем городе.</p></div>
        </div>
        <div class="faq-item reveal tilt">
          <div class="faq-q"><b>Есть ли рассрочка?</b><button class="x" aria-label="Открыть">+</button></div>
          <div class="faq-a"><p class="muted">Да, без переплат. Оплата помесячно. Подробности — у администратора.</p></div>
        </div>
        <div class="faq-item reveal tilt">
          <div class="faq-q"><b>Можно ли выбрать инструктора и АКПП/МКПП?</b><button class="x" aria-label="Открыть">+</button></div>
          <div class="faq-a"><p class="muted">Конечно. Подбираем по характеру и задачам. АКПП/МКПП — на ваш выбор.</p></div>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACTS -->
  <section class="section" id="contacts">
    <div class="container">
      <div class="section-header">
        <h2 class="reveal">Контакты</h2>
        <p class="muted reveal">Задайте вопрос — ответим в течение рабочего дня.</p>
      </div>

      <div class="contacts">
        <div class="card reveal tilt">
          <h3>Написать нам</h3>
          <form id="contactForm" style="display:grid; gap:.6rem; margin-top:.6rem;" novalidate>
            <!-- honeypot -->
            <input type="text" name="company" autocomplete="off" style="position:absolute;left:-9999px;opacity:0" tabindex="-1" aria-hidden="true">
            <input class="input" name="name" placeholder="Ваше имя" required />
            <input class="input phone" name="phone" placeholder="Телефон" inputmode="tel" required />
            <input class="input" name="email" placeholder="Email (необязательно)" inputmode="email" />
            <textarea class="input" name="msg" placeholder="Сообщение" rows="4" required></textarea>
            <label style="display:flex; gap:.5rem; align-items:center;">
              <input type="checkbox" id="consent1" required />
              <span class="muted" style="font-size:.95rem;">Согласен(на) на обработку персональных данных</span>
            </label>
            <div style="display:flex; gap:.6rem; align-items:center; flex-wrap: wrap;">
              <button class="btn" type="submit">Отправить</button>
              <a class="btn secondary" href="mailto:hello@adrenalin-avto.ru">Написать на email</a>
              <a class="btn ghost" href="tel:+79001234567">Позвонить</a>
            </div>
          </form>
          <p class="muted" style="margin-top:.5rem;">Нажимая «Отправить», вы соглашаетесь с <a href="#" id="openPolicy">политикой конфиденциальности</a>.</p>
        </div>

        <div class="map card reveal tilt" role="img" aria-label="Карта расположения">
          <div class="pin" style="left:55%; top:48%;"></div>
          <div style="text-align:center;">
            <h3>Мы здесь</h3>
            <p class="muted">ул. Примерная, 7 • Ваш город</p>
            <a class="btn" target="_blank" rel="noopener" href="https://yandex.ru/maps">Открыть в Яндекс.Картах</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="container" style="display:grid; gap:1rem; grid-template-columns: 1.2fr .8fr;">
      <div>
        <div class="brand" style="margin-bottom:.6rem;">
          <svg viewBox="0 0 64 64" aria-hidden="true" style="width:24px;height:24px;"><path fill="currentColor" d="M32 6l10 18 20 3-14 14 4 20-20-10-20 10 4-20L2 27l20-3z"/></svg>
          <b>Адреналин</b>
        </div>
        <p class="muted">© <span id="year"></span> Автошкола «Адреналин». Все права защищены.</p>
      </div>
      <div style="display:grid; gap:.4rem; align-content:start;">
        <a href="#about">О нас</a>
        <a href="#courses">Курсы</a>
        <a href="#pricing">Цены</a>
        <a href="#" id="openPolicy2">Политика конфиденциальности</a>
      </div>
    </div>
  </footer>

  <!-- BACK TO TOP -->
  <button class="btn to-top" id="toTop" aria-label="Наверх">↑ Наверх</button>

  <!-- FLOATING CTA (mobile) -->
  <button class="btn floating-cta" data-open-modal="enroll" aria-label="Записаться">Записаться</button>

  <!-- COOKIE BAR -->
  <div class="cookie" id="cookie">
    <div style="display:flex; gap:.6rem; align-items:center; justify-content:space-between; flex-wrap:wrap;">
      <div class="muted">Мы используем файлы cookie для работы сайта и аналитики.</div>
      <div style="display:flex; gap:.6rem;">
        <button class="btn" id="cookieOk">Ок</button>
        <button class="btn ghost" id="cookieNo">Только необходимые</button>
      </div>
    </div>
  </div>

  <!-- MODALS -->
  <div class="modal-backdrop" id="modalEnroll" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="enrollTitle">
      <div class="modal-head">
        <h3 id="enrollTitle">Заявка на обучение</h3>
        <button class="x" data-close-modal aria-label="Закрыть">×</button>
      </div>
      <form id="enrollForm" style="display:grid; gap:.6rem; margin-top:.6rem;" novalidate>
        <input type="text" name="company" autocomplete="off" style="position:absolute;left:-9999px;opacity:0" tabindex="-1" aria-hidden="true">
        <input class="input" name="name" placeholder="Имя" required />
        <input class="input phone" name="phone" placeholder="Телефон" inputmode="tel" required />
        <select class="select" name="course">
          <option>Категория B — базовый</option>
          <option>Экспресс-курс</option>
          <option>Индивидуальные занятия</option>
        </select>
        <input class="input" name="instructor" placeholder="Предпочтительный инструктор (необязательно)" />
        <label style="display:flex; gap:.5rem; align-items:center;">
          <input type="checkbox" id="consent2" required />
          <span class="muted" style="font-size:.95rem;">Согласен(на) на обработку персональных данных</span>
        </label>
        <button class="btn" type="submit">Отправить заявку</button>
      </form>
    </div>
  </div>

  <div class="modal-backdrop" id="modalDetails" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="detailsTitle">
      <div class="modal-head">
        <h3 id="detailsTitle">Подробности курса</h3>
        <button class="x" data-close-modal aria-label="Закрыть">×</button>
      </div>
      <div id="detailsBody" class="muted" style="margin-top:.6rem;"></div>
    </div>
  </div>

  <div class="modal-backdrop" id="modalCall" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="callTitle">
      <div class="modal-head">
        <h3 id="callTitle">Перезвоните мне</h3>
        <button class="x" data-close-modal aria-label="Закрыть">×</button>
      </div>
      <form id="callForm" style="display:grid; gap:.6rem; margin-top:.6rem;" novalidate>
        <input type="text" name="company" autocomplete="off" style="position:absolute;left:-9999px;opacity:0" tabindex="-1" aria-hidden="true">
        <input class="input" name="name" placeholder="Имя" required />
        <input class="input phone" name="phone" placeholder="Телефон" inputmode="tel" required />
        <button class="btn" type="submit">Жду звонка</button>
      </form>
    </div>
  </div>

  <div class="modal-backdrop" id="modalPolicy" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="policyTitle">
      <div class="modal-head">
        <h3 id="policyTitle">Политика конфиденциальности (пример)</h3>
        <button class="x" data-close-modal aria-label="Закрыть">×</button>
      </div>
      <div class="muted" style="margin-top:.6rem; max-height: 60vh; overflow:auto;">
        <p>Мы уважаем вашу конфиденциальность. Оставляя заявку, вы даёте согласие на обработку персональных данных в соответствии с ФЗ-152. Данные используются исключительно для связи по вопросам обучения и не передаются третьим лицам, за исключением случаев, предусмотренных законом.</p>
        <p>Вы можете запросить удаление или изменение данных, написав на <a href="mailto:hello@adrenalin-avto.ru">hello@adrenalin-avto.ru</a>.</p>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    // ---------- HELPERS ----------
    const $ = (q, root=document) => root.querySelector(q);
    const $$ = (q, root=document) => [...root.querySelectorAll(q)];
    const showToast = (msg) => {
      const t = $('#toast');
      t.textContent = msg;
      t.style.display = 'block';
      clearTimeout(showToast._id);
      showToast._id = setTimeout(()=> t.style.display = 'none', 3500);
    };

    // ---------- THEME ----------
    const themeToggle = $('#themeToggle');
    const applyTheme = (name) => {
      document.body.classList.toggle('light', name === 'light');
      themeToggle.setAttribute('aria-pressed', name === 'light' ? 'true' : 'false');
      localStorage.setItem('theme', name);
    };
    applyTheme(localStorage.getItem('theme') || 'dark');
    themeToggle.addEventListener('click', () => {
      applyTheme(document.body.classList.contains('light') ? 'dark' : 'light');
    });

    // ---------- MENU ----------
    const menuBtn = $('#menuBtn');
    const navLinks = $('#navLinks');
    menuBtn.addEventListener('click', () => {
      const open = !navLinks.classList.contains('open');
      navLinks.classList.toggle('open', open);
      menuBtn.setAttribute('aria-expanded', String(open));
      document.body.classList.toggle('no-scroll', open);
      open && navLinks.querySelector('a')?.focus();
    });
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        navLinks.classList.remove('open');
        menuBtn.setAttribute('aria-expanded', 'false');
        document.body.classList.remove('no-scroll');
      }
    });
    $$('#navLinks a').forEach(a => a.addEventListener('click', () => {
      navLinks.classList.remove('open');
      menuBtn.setAttribute('aria-expanded', 'false');
      document.body.classList.remove('no-scroll');
    }));

    // ---------- YEAR ----------
    $('#year').textContent = new Date().getFullYear();

    // ---------- REVEAL on scroll ----------
    const io = new IntersectionObserver((entries)=>{
      for(const e of entries){
        if(e.isIntersecting){ e.target.classList.add('show'); io.unobserve(e.target); }
      }
    }, { threshold: .15 });
    $$('.reveal').forEach(el => io.observe(el));

    // ---------- COUNT-UP STATS ----------
    const runCountUp = () => {
      $$('.stats b[data-count]').forEach(el=>{
        const goal = +el.dataset.count;
        const suffix = el.dataset.suffix || '';
        const dur = 1000;
        const start = performance.now();
        const step = (t) => {
          const p = Math.min(1, (t - start)/dur);
          el.textContent = Math.round(goal * p).toLocaleString('ru-RU') + suffix;
          if (p < 1) requestAnimationFrame(step);
        };
        requestAnimationFrame(step);
      });
    };
    const heroIO = new IntersectionObserver((entries)=>{
      entries.forEach(e => { if (e.isIntersecting) { runCountUp(); heroIO.disconnect(); } });
    }, { threshold: .3 });
    heroIO.observe($('#home'));

    // ---------- BROCHURE DOWNLOAD ----------
    $('#downloadBrochure').addEventListener('click', () => {
      const txt = `Автошкола «Адреналин» — программа курса (пример)
— Теория: 8 модулей (ПДД, знаки, разметка, безопасность, психология, первая помощь, устройство авто, экзамен).
— Практика: 20 часов по городским маршрутам (старт/стоп, парковка, маневрирование, развороты, взаимодействие).
— Пробный экзамен: отработка маршрута ГИБДД, чек-лист.
Контакты: +7 (900) 123-45-67, hello@adrenalin-avto.ru
`;
      const blob = new Blob([txt], {type:'text/plain;charset=utf-8'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'brochure-adrenalin.txt';
      a.click();
      URL.revokeObjectURL(a.href);
      showToast('Брошюра выгружена');
    });

    // ---------- PRICE DOWNLOAD ----------
    $('#downloadPrice').addEventListener('click', () => {
      const csv = `Тариф;Описание;Цена
Базовый B;"Онлайн/офлайн теория, 20 ч. практики, пробный экзамен";29900
Экспресс;"Ускоренная программа, 22 ч. практики";34900
Индивидуальные занятия;"Парковка, трасса, экзамен";1500/час`;
      const blob = new Blob([csv], {type:'text/csv;charset=utf-8'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'price-adrenalin.csv';
      a.click();
      URL.revokeObjectURL(a.href);
      showToast('Прайс скачан');
    });

    // ---------- CONTRACT DOWNLOAD (DRAFT) ----------
    $('#downloadContract').addEventListener('click', () => {
      const text = `ДОГОВОР №___ на обучение вождению (черновик)
Стороны: Автошкола «Адреналин» и Ученик __________
Предмет: Обучение по программе Категория B (Экспресс).
Стоимость: 34 900 ₽. Сроки: согласно расписанию. 
Подписи сторон: ______________________`;
      const blob = new Blob([text], {type:'text/plain;charset=utf-8'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'contract-draft.txt';
      a.click();
      URL.revokeObjectURL(a.href);
      showToast('Черновик договора скачан');
    });

    // ---------- BILLING TOGGLE ----------
    const prices = $$('[data-price]');
    $$('.toggle button').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        $$('.toggle button').forEach(b=>{ b.classList.remove('active'); b.setAttribute('aria-pressed','false'); });
        btn.classList.add('active'); btn.setAttribute('aria-pressed','true');
        const mode = btn.dataset.bill;
        prices.forEach(p=>{
          const once = +p.dataset.once;
          const monthly = p.dataset.monthly;
          p.textContent = mode === 'once'
            ? once.toLocaleString('ru-RU') + ' ₽'
            : monthly + ' ₽ / мес';
        });
      });
    });

    // ---------- SCHEDULE ----------
    const schedule = [
      {date:'2025-09-12', time:'19:00', branch:'центр', format:'онлайн', title:'Теория: Вводное занятие'},
      {date:'2025-09-14', time:'10:00', branch:'север', format:'класс', title:'Теория: Знаки и разметка'},
      {date:'2025-09-15', time:'18:30', branch:'центр', format:'практика', title:'Практика: Парковка'},
      {date:'2025-09-16', time:'19:00', branch:'юг', format:'класс', title:'Теория: Безопасность'},
      {date:'2025-09-17', time:'18:00', branch:'центр', format:'практика', title:'Практика: Город (маршрут 2)'},
      {date:'2025-09-19', time:'19:00', branch:'север', format:'онлайн', title:'Теория: Экзамен ПДД (тренировка)'}
    ];
    const fillSchedule = () => {
      const b = $('#branch').value;
      const f = $('#format').value;
      const s = $('#searchSchedule').value.toLowerCase().trim();
      const rows = schedule
        .filter(x => (b==='all'||x.branch===b) && (f==='all'||x.format===f) && (!s || x.title.toLowerCase().includes(s)))
        .map(x => `<tr>
          <td data-label="Дата">${new Date(x.date).toLocaleDateString('ru-RU')}</td>
          <td data-label="Время">${x.time}</td>
          <td data-label="Филиал">${x.branch}</td>
          <td data-label="Формат">${x.format}</td>
          <td data-label="Курс">${x.title}</td>
          <td data-label=""><button class="btn" data-open-modal="enroll" data-course="${x.title}">Записаться</button></td>
        </tr>`).join('');
      $('#scheduleBody').innerHTML = rows || `<tr><td data-label="—" colspan="6"><i class="muted">Ничего не найдено</i></td></tr>`;
    };
    fillSchedule();
    $('#branch').addEventListener('change', fillSchedule);
    $('#format').addEventListener('change', fillSchedule);
    $('#searchSchedule').addEventListener('input', fillSchedule);

    // ---------- ICS DOWNLOAD (Europe/Moscow) ----------
    const toICSDate = (dateStr, timeStr) => {
      const [d,m,y] = dateStr.split('.'); // dd.mm.yyyy
      const [hh,mm] = timeStr.split(':');
      const ymd = `${y}${m.padStart(2,'0')}${d.padStart(2,'0')}`;
      const hms = `${hh}${mm}00`;
      return `${ymd}T${hms}`;
    };
    $('#downloadICS').addEventListener('click', () => {
      const rows = [...$('#scheduleBody').querySelectorAll('tr')];
      let ics = 'BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Adrenalin//Schedule//RU\nCALSCALE:GREGORIAN\nX-WR-CALNAME:Adrenalin Schedule\nX-WR-TIMEZONE:Europe/Moscow\n';
      rows.forEach((tr,i) => {
        const tds = tr.querySelectorAll('td');
        if (tds.length < 5) return;
        const date = tds[0].textContent.trim();
        const time = tds[1].textContent.trim();
        const branch = tds[2].textContent.trim();
        const title = tds[4].textContent.trim().replace(/\n/g,' ');
        const start = toICSDate(date, time);
        const [hh,mm] = time.split(':').map(Number);
        const endH = String(hh + 1).padStart(2,'0');
        const end = toICSDate(date, `${endH}:${String(mm).padStart(2,'0')}`);
        const uid = `adrenalin-${start}-${i}@example`;
        ics += `BEGIN:VEVENT\nUID:${uid}\nDTSTART;TZID=Europe/Moscow:${start}\nDTEND;TZID=Europe/Moscow:${end}\nSUMMARY:${title}\nLOCATION:${branch}\nEND:VEVENT\n`;
      });
      ics += 'END:VCALENDAR';
      const blob = new Blob([ics], {type:'text/calendar'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'adrenalin-schedule.ics';
      a.click();
      URL.revokeObjectURL(a.href);
      showToast('Файл расписания .ics скачан');
    });

    // ---------- MODALS with focus trap ----------
    const modals = {
      enroll: $('#modalEnroll'),
      details: $('#modalDetails'),
      call: $('#modalCall'),
      policy: $('#modalPolicy'),
    };
    let lastFocused = null;
    const getFocusable = (root) => [...root.querySelectorAll('a,button,input,select,textarea,[tabindex]:not([tabindex="-1"])')].filter(el=>!el.disabled && el.offsetParent !== null);
    const trap = (e, modal) => {
      if (e.key !== 'Tab') return;
      const f = getFocusable(modal);
      if (!f.length) return;
      const first = f[0], last = f[f.length-1];
      if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
      if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
    };
    const openModal = (name) => {
      const m = modals[name];
      lastFocused = document.activeElement;
      m.style.display = 'flex';
      m.setAttribute('aria-hidden','false');
      const first = getFocusable(m)[0];
      first && first.focus();
      m._handler = (e)=> trap(e, m);
      document.addEventListener('keydown', m._handler);
    };
    const closeModal = (name) => {
      const m = modals[name];
      m.style.display = 'none';
      m.setAttribute('aria-hidden','true');
      document.removeEventListener('keydown', m._handler || (()=>{}));
      lastFocused && lastFocused.focus();
    };
    document.addEventListener('click', (e)=>{
      const openBtn = e.target.closest('[data-open-modal]');
      if (openBtn) {
        const name = openBtn.dataset.openModal;
        if (name === 'enroll') {
          const course = openBtn.dataset.course || '';
          const instructor = openBtn.dataset.instructor || '';
          if (course) $('#enrollForm [name="course"]').value = course;
          if (instructor) $('#enrollForm [name="instructor"]').value = instructor;
        }
        if (name === 'details') {
          const course = openBtn.dataset.course || 'Курс';
          $('#detailsTitle').textContent = `Подробности: ${course}`;
          $('#detailsBody').innerHTML = `
            <ul>
              <li>• Подробный план занятий</li>
              <li>• Требования к ученикам, документы</li>
              <li>• Экзаменационные маршруты</li>
              <li>• Гарантии и условия возврата</li>
            </ul>
            <p style="margin-top:.5rem;">Оставьте заявку, и администратор пришлёт PDF с программой и договором.</p>`;
        }
        openModal(name);
      }
      if (e.target.matches('[data-close-modal]')) {
        Object.keys(modals).forEach(closeModal);
      }
      if (e.target.classList.contains('modal-backdrop')) {
        Object.keys(modals).forEach(closeModal);
      }
    });
    $('#openPolicy').addEventListener('click', (e)=>{ e.preventDefault(); openModal('policy'); });
    $('#openPolicy2').addEventListener('click', (e)=>{ e.preventDefault(); openModal('policy'); });

    // ---------- FORMS (mask + simulated submit) ----------
    const serialize = (form) => Object.fromEntries(new FormData(form).entries());
    const isSpam = (data) => (data.company && data.company.trim().length > 0); // honeypot
    const phoneEls = $$('.phone');
    const formatPhone = (val) => {
      const digits = val.replace(/\D/g,'');
      let v = digits;
      if (v.startsWith('8')) v = '7' + v.slice(1);
      if (!v.startsWith('7')) v = '7' + v;
      v = v.slice(0, 11);
      const p1 = v.slice(1,4), p2 = v.slice(4,7), p3 = v.slice(7,9), p4 = v.slice(9,11);
      let out = '+7';
      if (p1) out += ` (${p1}`;
      if (p1 && p1.length===3) out += ')';
      if (p2) out += ` ${p2}`;
      if (p3) out += `-${p3}`;
      if (p4) out += `-${p4}`;
      return out;
    };
    phoneEls.forEach(el=>{
      el.addEventListener('input', ()=> { el.value = formatPhone(el.value); });
      el.addEventListener('blur', ()=> { el.value = formatPhone(el.value); });
    });

    const validateForm = (form) => {
      let ok = true;
      form.querySelectorAll('.input, .select').forEach(el => el.classList.remove('error'));
      const data = serialize(form);
      if (!data.name || data.name.trim().length < 2) { ok=false; form.querySelector('[name="name"]').classList.add('error'); }
      if (!data.phone || (data.phone.match(/\d/g)||[]).length < 11) { ok=false; form.querySelector('[name="phone"]').classList.add('error'); }
      const consent = form.querySelector('input[type="checkbox"][required]');
      if (consent && !consent.checked) { ok=false; consent.focus(); }
      if (isSpam(data)) ok = false;
      return ok;
    };

    const submitSim = (form, successMsg) => {
      form.addEventListener('submit', (e)=>{
        e.preventDefault();
        if (!validateForm(form)) { showToast('Проверьте поля формы'); return; }
        form.reset();
        showToast(successMsg);
        Object.keys(modals).forEach(closeModal);
      });
    };
    submitSim($('#contactForm'), 'Сообщение отправлено — свяжемся с вами!');
    submitSim($('#enrollForm'), 'Заявка на обучение принята!');
    submitSim($('#callForm'), 'В ближайшее время перезвоним!');

    // ---------- FAQ ----------
    $$('.faq-item').forEach(item=>{
      const q = $('.faq-q', item);
      const a = $('.faq-a', item);
      q.addEventListener('click', ()=>{
        item.classList.toggle('open');
        if (item.classList.contains('open')) {
          a.style.height = a.scrollHeight + 'px';
          q.querySelector('.x').textContent = '−';
        } else {
          a.style.height = '0px';
          q.querySelector('.x').textContent = '+';
        }
      });
    });

    // ---------- REVIEWS ----------
    const reviews = [
      {name:'Анна', text:'Отличная автошкола! Теория онлайн — удобно, инструктор спокойно и доходчиво объясняет. Сдала с первого раза 🙌'},
      {name:'Михаил', text:'Брал экспресс-курс, в график вписался без проблем. Парковка и развороты перестали быть стрессом. Рекомендую!'},
      {name:'Марина', text:'Взяла блок индивидуальных занятий перед экзаменом — уверенности стало в разы больше, всё получилось.'}
    ];
    const track = $('#reviewTrack');
    const dotsWrap = $('#reviewDots');
    reviews.slice(1).forEach(r => {
      const art = document.createElement('article');
      art.className = 'review';
      art.innerHTML = `<h3>${r.name}</h3><p class="muted">${r.text}</p>`;
      track.appendChild(art);
    });
    let idx = 0;
    const slides = track.children.length;
    for (let i=0;i<slides;i++){
      const d = document.createElement('div');
      d.className = 'dot' + (i===0?' active':'');
      d.dataset.i = i;
      d.addEventListener('click', ()=> { idx = i; updateReviews(); });
      dotsWrap.appendChild(d);
    }
    const updateReviews = ()=> {
      track.style.transform = `translateX(-${idx*100}%)`;
      $$('.dot', dotsWrap).forEach((d,i)=>d.classList.toggle('active', i===idx));
    };
    setInterval(()=> { idx = (idx+1)%slides; updateReviews(); }, 4500);

    // ---------- BACK TO TOP ----------
    const toTop = $('#toTop');
    window.addEventListener('scroll', ()=>{
      toTop.style.display = window.scrollY > 600 ? 'inline-flex' : 'none';
    });
    toTop.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));

    // ---------- COOKIE ----------
    const cookie = $('#cookie');
    const cookieKey = 'cookie_adrenalin_ok';
    const floatCta = $('.floating-cta');
    const updateCta = () => { floatCta.style.display = cookie.style.display === 'block' ? 'none' : ''; };
    if (!localStorage.getItem(cookieKey)) { cookie.style.display = 'block'; updateCta(); }
    $('#cookieOk').addEventListener('click', ()=> { localStorage.setItem(cookieKey, 'all'); cookie.style.display='none'; updateCta(); showToast('Спасибо!'); });
    $('#cookieNo').addEventListener('click', ()=> { localStorage.setItem(cookieKey, 'necessary'); cookie.style.display='none'; updateCta(); showToast('Только необходимые cookie'); });

    // ---------- NAV active section highlight ----------
    const sections = ['about','courses','schedule','pricing','instructors','fleet','reviews','faq','contacts'].map(id => document.getElementById(id));
    const linkById = Object.fromEntries($$('#navLinks a').map(a=>[a.getAttribute('href').slice(1), a]));
    const secIO = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          const id = e.target.id;
          Object.values(linkById).forEach(a=>a.classList.remove('active'));
          linkById[id]?.classList.add('active');
        }
      });
    }, { rootMargin: '-40% 0% -50% 0%', threshold: .1 });
    sections.forEach(s=>secIO.observe(s));

    // ---------- Smooth anchor focus ----------
    $$('#navLinks a').forEach(a=>{
      a.addEventListener('click', (e)=> {
        const id = a.getAttribute('href').slice(1);
        const el = document.getElementById(id);
        if (el) {
          e.preventDefault();
          el.scrollIntoView({behavior:'smooth', block:'start'});
          el.setAttribute('tabindex','-1'); el.focus({preventScroll:true});
          setTimeout(()=> el.removeAttribute('tabindex'), 500);
        }
      });
    });

    // ---------- SCROLL PROGRESS ----------
    const progress = $('#scrollProgress');
    const onScroll = () => {
      const h = document.documentElement;
      const scrolled = (h.scrollTop) / (h.scrollHeight - h.clientHeight) * 100;
      progress.style.width = scrolled + '%';
    };
    document.addEventListener('scroll', onScroll, {passive:true});
    onScroll();

    // ---------- 3D TILT ----------
    const tiltables = $$('.tilt');
    const tilt = (e, el) => {
      const r = el.getBoundingClientRect();
      const x = e.clientX - r.left;
      const y = e.clientY - r.top;
      const rx = ((y / r.height) - .5) * -6; // deg
      const ry = ((x / r.width) - .5) * 6;
      el.style.transform = `perspective(700px) rotateX(${rx}deg) rotateY(${ry}deg) translateZ(0)`;
    };
    const tiltReset = (el) => { el.style.transform = ''; };
    tiltables.forEach(el=>{
      el.addEventListener('mousemove', (e)=> tilt(e, el));
      el.addEventListener('mouseleave', ()=> tiltReset(el));
      el.addEventListener('blur', ()=> tiltReset(el));
    });

    // ---------- ACCESSIBILITY: global Escape closes modals ----------
    document.addEventListener('keydown', (e)=>{
      if (e.key === 'Escape') Object.keys(modals).forEach(closeModal);
    });

  </script>
</body>
</html>
